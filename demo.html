<!DOCTYPE html>
<html>
    <head>
        <title>AsciiMath for TinyMCE 4</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
        <script src="//tinymce.cachefly.net/4.0/tinymce.min.js"></script>
        <script>
            tinymce.init({
                selector: 'textarea'
            ,   plugins: 'link'
            ,   external_plugins: {
					asciimath4: 'https://rawgit.com/pedrosancao/asciimath-tinymce4/master/plugin.js'
				}
			,   toolbar: 'undoredo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link | asciimath4'
			,   height: 170
            });
			(function($){$(function(){
				var endpoint = 'https://api.github.com/', container = $('#to-do');
				$.get(endpoint + 'repos/pedrosancao/asciimath-tinymce4/issues/1', function(data) {
					data = data || {};
					if (data.body) {
						$.ajax({
							url: endpoint + 'markdown'
						,   type: 'POST'
						,   data: JSON.stringify({
								text: data.body
							,   mode: 'gfm'
							,   context: 'pedrosancao/asciimath-tinymce4'
							})
						,   success: function(html) {
								container.html(html);
							}
						,   error: function() {
								container.html('<pre>' + data.body + '</pre>');
							}
						});
					}
				}).fail(function() {
					container.html('<p>Could not show list, <a href="https://github.com/pedrosancao/asciimath-tinymce4/issues/1">check in the issue tracker</a></p>');
				});
			});})(jQuery);
        </script>
		<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet"/>
		<style>
			.container {
				max-width: 1000px;
			}
		</style>
    </head>
    <body>
		<div class="container">
			<h1><a href="./">AsciiMath plugin for TinyMCE 4</a></h1>
			<h2>Demonstration</h2>
			<textarea><p>Sample formula</p>
<p>`x = (-b +- sqrt(b^2-4ac))/(2a)`</p>
<p>more text</p></textarea>
			<br/>
			<p>Click in the formula to edit, click in text to preview. Also works with keyboard navigation.</p>
			<p>Please note that <strong>this plugin is in development</strong></p>
			<h3>To do list</h3>
			<div id="to-do"><p>Loading...</p></div>
		</div>
		<a href="https://github.com/pedrosancao/asciimath-tinymce4/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
		<script>
			(function(s,a,n,c,ao,dot,co){s['GoogleAnalyticsObject']=ao;s[ao]=s[ao]||function(){(s[ao].q=s[ao].q||[]).push(arguments)},s[ao].l=1*new Date();dot=a.createElement(n),co=a.getElementsByTagName(n)[0];dot.async=1;dot.src=c;co.parentNode.insertBefore(dot,co)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-57279934-1', 'auto');
			ga('send', 'pageview');
		</script>
    </body>
</html>
